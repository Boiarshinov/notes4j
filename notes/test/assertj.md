---
title: "AssertJ"
tags:
  - test
  - external_lib
draft: false
---

# AssertJ

AssertJ - библиотека, позволяющая проверять в тестах выполнение различных условий. 
Проверки записываются в стиле Fluent API с чейнингом методов.

```java
assertThat(frodo.getName()).startsWith("Fro")
                           .endsWith("do")
                           .isEqualToIgnoringCase("frodo");
```

AssertJ состоит из нескольких модулей, основным из которых является `assertj-core`. 
В нем содержатся инструменты для проверки основных объектов из стандартной библиотеки Java.

## Ассерты
Входной точкой для всех проверок является метод `assertThat` в классе `Assertions`.
Этот метод многократно перегружен, что позволяет добавлять специфические проверки для объектов разных классов.

## Переопределение сообщений о провале проверки
Стандартные сообщения о провале проверки могут быть недостаточно понятными.
Например, код
```java
assertThat(order.isDelivered()).isTrue()
```
при провале выведет невразумительное:
> Ожидалось true, а было false

Чтобы сделать сообщения об провале проверок более понятными, существует метод `as()`:
```java
assertThat(order.isDelivered())
    .as("Заказ %s должен быть доставлен", order).isTrue()
```

Так как проверки можно чейнить, то для каждой проверки можно написать свое уточняющее сообщение.
```java
assertThat(ChronoUnit.HOURS)
    .as("first message").isGreaterThan(ChronoUnit.NANOS)
    .as("second message").isLessThan(ChronoUnit.DAYS)
```
Такие сообщения переопределяют друг друга.
При провале проверки будет выведено последнее зарегистрированное в `as()` сообщение.

Метод `as()` не заменяет сообщение ошибки, а дополняет его.
Если нужно полностью изменить сообщение о провале, то нужно использовать метод `withFailMessage()`.


---
## Написание расширений для AssertJ
<mark>todo</mark>


---
## К изучению
- [X] Документация: https://assertj.github.io/doc/
- [X] Исходники: https://github.com/assertj