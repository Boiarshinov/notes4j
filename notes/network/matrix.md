---
title: "Matrix"
tags:
  - protocol
  - distributed_system
draft: false
---

# Matrix

Matrix - это распределенный протокол для переписки, голосовых и видео-звонков.

Matrix разрабатывается как открытое ПО.
Специально для его разработки была создана некоммерческая организация.

Matrix в силу своей открытости может использоваться с любыми клиентскими приложениями, которые его поддерживают.
Но самым популярным приложением явлется [Element](https://element.io/) от самих разработчиков matrix. До ребрединга он назывался Riot Chat.

Matrix имеет несколько официальных бриджей до популярных мессенджеров и позволяет кому угодно написать бридж до какой-либо еще площадки.

Голосовые звонки совершаются с помощью протокола WebRTC.


### Принцип работы

Каждый пользователь выходит в сеть через определенный matrix-сервер.
Все данные переписки этого пользователя находятся на этом сервере.
Сервера matrix могут обмениваться друг с другом сообщениями.
Данные переписки какой-либо группы людей реплицируются между серверами, к которым прикреплен каждый участник группы. 
При падении сервера данные будут восстановлены с других серверов.
Matrix является [распределенной системой](../architecture/distributed_systems.md).

Кто-угодно может поднять собственный сервер matrix. 
Существует несколько серверных приложений:
- Synapse - серверное приложение 1-го поколения. Написано на Python 3
- Dendrite - серверное приложение 2-го поколения. Написано на Go

Исходные коды всех приложений доступны в открытом доступе.

Серверные приложения предоставляют [REST](../web/rest.md) over HTTP API.
Благодаря этому клиентское приложение может быть написано кем-угодно.

Благодаря тому, что переписка не налагает жестких ограничений на последовательность сообщений, синхронизация между серверами не так сложна, как во многих других распределенных системах.

### Безопасность
Используется End-to-End шифрование, основанное на алгоритме Double Ratchet и реализованное в библиотеке Olm для общения между двумя пользователя, и Megolm для общения между группами людей.



---
## К изучению
- [ ] [Официальный сайт](https://matrix.org/docs/guides/introduction)
- [X] [Исходный код](https://github.com/matrix-org)
