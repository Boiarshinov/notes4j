---
title: "Expression Language"
tags:
  - java_ee
  - jsp
  - web
  - deprecated
draft: false
---

**EL - Expression Language** - язык выражений

Используется для того, чтобы вызывать методы Java из html-кода в [JSP](jsp.md).

Первый элемент в EL может быть:
- Предопределенным объектом
- Аттрибутом одной из сфер

---
## Синтаксис EL
Все выражения в EL выглядят следующим образом:
```
${...}
```

Для доступа к параметрам атрибутов или других параметров используется точка:
`${person.name}`

Объект слева от точки должен быть [java бином](../java/java_bean.md) или словарем.

Для доступа к более сложным структурам данных (например, к спискам или массивам) используется оператор квадратных скобок
```
${person["properties"]}
```

Объект слева от квадратных скобок может быть JavaBean, словарем, списком или массивом.

То что указывается в квадратных скобках может быть ключом в карте, полем в JavaBean, индексом в списке или в массиве.

Объект в квадратных скобках должен быть указан в кавычках, иначе контейнер сервлетов попытается получить атрибут запроса с таким именем, не найдет его и все сломается.

### Арифметика
EL поддерживает арифметические операции

- `+` - сложение
- `-` - вычитание
- `*` - умножение
- `/` или `div` - деление
- `%` или `mod` - остаток от деления

### Логические операции
EL поддерживает логические операции

- `&&` или `and` - логическое И
- `||` или `or` - логическое ИЛИ
- `!` или `not` - логическое НЕ

### Сравнения
EL может сравнивать между собой примитивы

- `==` or `eq` - проверка на равенство
- `!=` or `ne` - проверка на неравенство
- `<` or `lt` - меньше
- `>` or `gt` - больше
- `<=` or `le` - меньше включительно
- `>=` or `ge` - больше включительно

### Зарезервированные слова

- `true` - буленова истина
- `false` - буленова ложь
- `null` - null
- `instanceof` - зарезервировано на будущее
- `empty` - проверяет на null и на отсутствие символов в строке

### Обращение с null-значениями

Если ссылка внутри EL-выражения ведет на объект null, то обрабатываться он будет в зависимости от контекста:

- арифметическое выражение - null принимается за 0:
```jsp
${nullAttribute * 10} - <!-- = 0 -->
```

- логическое выражение - null принимается за false
```jsp
${nullAttribute && true} <!-- = false -->
```
- возврат строки - null принимается за пустую строку
```jsp
${nullAttribute} <!-- -->
```

---
## Предопределенные объекты EL

Все предопределенные объекты EL (кроме pageContext) являются [мапами](../java/collections/map.md).

- сферы: - словари атрибутов различных сфер
    - `pageScope`
    - `requestScope`
    - `sessionScope`
    - `applicationScope`
- параметры: - словари параметров запроса (аналог request.getParameter())
    - `param` - словарь, который содержит параметры запроса
    - `paramValues`
- заголовки: - словари заголовков запроса (аналог request.getHeader())
    - `header`
    - `headerValues`
- другое
    - `cookie` - словарь с [Cookies](../servlets/cookies.md)
    - `initParam` - словарь с параметрами контекста (веб-приложения) (аналог getServletContext().getInitParameter() в Java-коде)
    - `pageContext` - ссылка на контекст страницы (единственный предопределенный объект, который является [java бином](../java/java_bean.md)). Позволяет получить доступ к реквесту и его методам, а также к объекту ошибки, если данная страница является isErrorPage.

---
## К изучению
- [X] Глава 7 Head First Servlets and JSP
- [ ] Глава 8 Head First Servlets and JSP