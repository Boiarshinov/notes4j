---
title: "REST-сервисы"
tags:
  - web
draft: false
---

**REST** - Representational State Transfer - архитектурный стиль взаимодействия компонентов распределенного приложения в сети.

Основные ограничения REST-сервисов:
1. Использование модели клиент-сервер
2. Сервер не должен хранить состояние между разными запросами клиента. Состояние может передаваться клиенту с ответом, а клиент будет самостоятельно его отправлять на сервер с каждым новым запросом.
3. Сервер может кешировать часто выдаваемые ответы. Каждый ответ должен быть помечен является ли он кэшируемым.
4. Интерфейс должен быть унифицированным. Ограничения интерфейса:
  - Каждому ресурсу должен быть присвоен уникальный идентификатор. В вебе таким идентификатором является URI.
  - Клиенту должно быть достаточно представления ресурса, чтобы изменить его
  - Каждое сообщение должно быть самодостаточным. Оно должно содержать информацию о том, как его обрабатывать (например с помощью [MIME](mime.md)-типов)
  - Сервер должен посылать клиенту только гипермедиа. В гипермедиа должны приходить указания на другие возможные действия с ресурсом.
5. Сервера могут быть многослойными (например, чтобы распределять нагрузку на различные машины). Клиент при этом может не видит различия во взаимодействии с 
6. Опционально: сервер может высылать код, который будет выполняться на клиенте (скрипты).

REST отлично ложится на [HTTP](../network/http.md) и это неспроста. 
Дело в том, что концепцию REST придумал и опубликовал в своей диссертации Roy Fielding, который одновременно с написанием диссертации был одним из ключевых разработчиков стандарта HTTP.
По сути, HTTP - это протокол, а REST - это рекомендации по написанию web-сервисов, использующих HTTP.

---
## Maturity

Леонард Ричардсон проанализировал большое количество веб-сервисов и выдвинул модель зрелости веб-сервиса - *Richardson Maturity Model* (RMM).

В соответствии с RMM веб-сервисы разделяются на 4 уровня:

- Уровень 0. Веб-сервис имеет только 1 URL, все общение происходит с помощью только одного вида HTTP-метода (как правило POST). По сути это RPC over HTTP.
- Уровень 1. У веб-сервиса несколько ресурсов, но все общение происходит по-прежнему с помощью одного вида HTTP-метода.
- Уровень 2. У веб-сервиса есть множество ресурсов, работать с которыми можно с помощью различных HTTP-методов, и в ответ приходят ожидаемые статусы (200, 404, 501 и т.д.).
- Уровень 3. Требования к предыдущему уровню + документирование веб-сервисом самого себя (HATEOAS).

Евангелисты REST считают, что веб-сервис можно назвать RESTful только если он имеет 3 уровень зрелости.
Но в сообществе разработчиков все начинают считать веб-сервис RESTful, начиная со 2 уровня.
Возможно потому что для документирования веб-сервисов стали популярными отдельные инструменты, такие как OpenAPI.


---
## Best Practicies



---
## К изучению

- [X] [Wiki](https://ru.wikipedia.org/wiki/REST)
- [X] Подробное объяснение каждого ограничения REST в [статье Рахима Давлеткалиева на Хабр](https://habr.com/ru/company/hexlet/blog/274675/)
- [X] Все что обязательно нужно знать про веб-службы и REST (куча грамматических ошибок, но статья полезная): https://habr.com/ru/post/319984/
- [X] Мартин Фаулер. [Модель зрелости Ричардсона](https://martinfowler.com/articles/richardsonMaturityModel.html)
- [X] Краткое видео о принципах REST: https://www.youtube.com/watch?v=2CrjWD3VGG4
- [X] [Критика REST](https://medium.com/free-code-camp/rest-is-the-new-soap-97ff6c09896d), [перевод](https://habr.com/ru/company/mailru/blog/345184/)
- [X] [Рекомендации по проектированию REST API](https://www.vinaysahni.com/best-practices-for-a-pragmatic-restful-api) - Великолепная статья
- [ ] Сравнение REST с SOAP: https://habr.com/ru/post/131343/
- [ ] Статьи по REST на JR: https://javarush.ru/groups/posts/2486-obzor-rest-chastjh-1-chto-takoe-rest
- [ ] Онлайн книга по REST (англ): http://restcookbook.com/
- [ ] Книга про REST (англ): https://www.amazon.com/gp/product/0596805829?ie=UTF8&tag=martinfowlerc-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=0596805829
- [ ] Книга про RESTful Web API (с ленивцем): http://restfulwebapis.org/