---
title: "REST-сервисы"
tags:
  - web
draft: false
---

**REST** - Representational State Transfer - архитектурный стиль взаимодействия компонентов распределенного приложения в сети.

Основные ограничения REST-сервисов:
1. Использование модели клиент-сервер
2. Ответ сервера должен зависить только от запроса, и не должен зависеть от состояния сервера (stateless)
3. Сервер должен кешировать часто выдаваемые ответы. Каждый ответ должен быть помечен является ли он кэшируемым.
4. Интерфейс должен быть унифицированным. Ограничения интерфейса:

    - Каждому ресурсу должен быть присвоен уникальный идентификатор. В вебе таким идентификатором является URI.
    - Клиент отправляет серверу запросы с представлением того как он хочет поменять данные. Сервер решает будет ли он принимать эти данные и как он их обработает. (Обычно клиент отправляет данные в формате JSON или XML)
    - Каждое сообщение должно быть самодостаточным. Не должно быть дополнительных сообщений для обработки одного запроса.
    - Сервер должен посылать клиенту только гипермедиа. В гипермедиа должны приходить указания на другие возможные действия с ресурсом.

5. Сервера должны быть многослойными (например, чтобы распределять нагрузку на различные машины).
6. Опционально: сервер должен высылать код под требованию (скрипты).

---
## Maturity

Леонард Ричардсон проанализировал большое количество веб-сервисов и выдвинул модель зрелости веб-сервиса - *Richardson Maturity Model* (RMM).

В соответствии с RMM веб-сервисы разделяются на 4 уровня:

- Уровень 0. Веб-сервис имеет только 1 URL, все общение происходит с помощью только одного вида HTTP-запроса (как правило POST).
- Уровень 1. У веб-сервиса несколько ресурсов, но все общение происходит по-прежнему с помощью одного вида HTTP-запроса.
- Уровень 2. У веб-сервиса есть множество ресурсов, работать с которыми можно с помощью различных HTTP-запросов, и в ответ приходят ожидаемые статусы (200, 404, 501 и т.д.).
- Уровень 3. Требования к предыдущему уровню + документирование веб-сервисом самого себя (HATEOAS).

Веб-сервис можно назвать RESTful только если он имеет 3 уровень зрелости.

---
## К изучению

- [X] Вики: https://ru.wikipedia.org/wiki/REST
- [X] Что такое RESTful на самом деле: https://habr.com/ru/company/hexlet/blog/274675/
- [X] Все что обязательно нужно знать про веб-службы и REST (куча грамматических ошибок, но статья полезная): https://habr.com/ru/post/319984/
- [ ] Мартин Фаулер о матерости веб-сервисов: https://martinfowler.com/articles/richardsonMaturityModel.html
- [X] Краткое видео о принципах REST: https://www.youtube.com/watch?v=2CrjWD3VGG4
- [X] Критика REST: https://habr.com/ru/company/mailru/blog/345184/
- [ ] Сравнение REST с SOAP: https://habr.com/ru/post/131343/
- [ ] Статьи по REST на JR: https://javarush.ru/groups/posts/2486-obzor-rest-chastjh-1-chto-takoe-rest
- [ ] Онлайн книга по REST (англ): http://restcookbook.com/
- [ ] Книга про REST (англ): https://www.amazon.com/gp/product/0596805829?ie=UTF8&tag=martinfowlerc-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=0596805829
- [ ] Книга про RESTful Web API (с ленивцем): http://restfulwebapis.org/