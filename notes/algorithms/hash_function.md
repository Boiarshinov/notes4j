---
title: "Хэш-функция"
tags:
  - algorithms
draft: false
---

# Хэш-функция

Хэш-функция - это функция, которая позволяет преобразовать битовый массив любой длины в битовый массив строго заданной длины, с соблюдением некоторых гарантий.
Хэш-функции должы всегда возвращать одно и то же значение для одинаковых входных данных.
Это свойство называется **Property of Equality**.

Полезное, но не обязательное свойство хэш-функций: для двух разных значений хэш-функция должна возвращать разные значения.
Это свойство невозможно выполнить, если размер массива, вычисляемого хэш-функцией, меньше размеров входных массивов.

Ситуации, когда разные входные данные преобразуются в одно и то же значение хэша, называются **коллизиями**.

Хорошая хэш-функция для структуры данных должна обладать следующими свойствами:
- каждый элемент структуры должен участвовать в вычислении хэша
- порядок элементов в коллекциях должен влиять на значение хэша (при перестановке элементов в коллекции хэш должен меняться)
- вычисление хэша коллекций происходит не медленнее `O(n)`
- исключается неоднородность входящих данных

### Область применения
У хэш-функций есть множество областей применения.
Они могут использоваться для проверки целостности передаваемых данных: после передачи вычисляется хэш из полученного массива байт и сравнивается с эталонным значением.

Также хэш-функции используются для уменьшения размера ключа в структурах данных типа *ключ-значение*.
Это позволяет ускорить поиск хранимых данных благодаря тому, что сравнение хэшей происходит быстрее, чем сравнение ключей (при условии, что ключ имеет бОльший размер, чем хэш от него).

На основе хэш-функций устроена структура данных хэш-таблица.

### Размер хэша
Размер хэша выбирается в зависимости от предметной области.
Например, в Java у каждого класса есть стандартный метод (который можно переопределить), высчитывающий из объекта [хэшкод](../java/hashcode.md) размерностью 32 бита. 

### Реализации

Существует огромное множество различных реализаций хэш-функций.
При этом можно разделить их на группы по назначению:
- [контрольные суммы](crc.md) - используются для определения ошибок передачи данных и гниения битов. Пример: _CRC-32_
- некриптографические хэш-функции - быстроисчисляемые функции, которые обеспечивают хорошее распределение. Пример: _Murmur3_
- криптографические хэш-функции - такие хэш-функции обладают повышенной устойчивостью к реверсу, но из-за этого затраты на их вычисление превышают затраты на вычисление некриптографических функций. Примеры: _SHA-256_, _MD-5_

Многие криптографические функции уже не рекомендуется использовать.
Для некриптографического хэширования они слишком долгие, а для криптографического хэширования для них уже составлены rainbow-таблицы, которые позволяют реверсировать хэш в изначальное значение.


---
## К изучению
- [X] Лекция 5.2 курса [Data Structures](https://stepik.org/course/579/syllabus)
- [X] Вики. [Список хэш-функций](https://en.wikipedia.org/wiki/List_of_hash_functions), сгруппированных по назначению
- [X] [Оценка перфоманса различных хэш-функций](https://github.com/rurban/smhasher)
