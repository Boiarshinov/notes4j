---
title: "UUID"
tags:
draft: false
---

**UUID** - universal unique identifier - глобальный уникальный идентификатор.

UUID используется в качестве идентификатора какого-либо объекта в распределенных системах.

Так можно делать, благодаря тому что шанс коллизии очень мал.

Для хранения UUID требуется 128 бит, что обеспечивает невероятное количество вариантов.

Генерация UUID завязана на времени

В Windows системах используется понятие GUID - это то же самое, что и UUID.

## Формат

Записывают UUID обычно в виде 32 символов 16-ричной системы счисления, разбитых на блоки по 8-4-4-4-12 символов.

```
67a83e20-fc8a-11ea-adc1-0242ac120002
xxxxxxxx-xxxx-Mxxx-Nxxx-xxxxxxxxxxxx
```

4 бита M обозначают версию UUID, а от 1 до 3 старших битов N обозначают вариант UUID.

|     |     |     |
| --- | --- | --- |
| **Название поля** | **Длина в битах** | **Значение** |
| `time_low` | 32  | Младшие 32 бита времени |
| `time_mid` | 16  | Средние 16 бит времени |
| `time_hi_and_version` | 16  | 4 бита на версию и старшие 12 бит времени |
| `clock_seq_hi_and_res` | 16  | 1-3 бита на вариант UUID и 13-15 бит на clock sequence |
| `node` | 48  | идентификатор узла |

### Версии

- 0 - null версия UUID. Все остальные биты тоже должны быть 0.
- 1 - UUID сгенерирован на основе времени
- 2 - что-то непонятное на основе DCE. Не рекомендуется использовать, если нужно генерировать UUID чаще чем раз в 7 секунд.
- 3 - UUID сгенерирован на основе имени генерируемого объекта. При генерации используется алгоритм хэширования MD-5.
- 4 - UUID сгенерирован рандомно. В Java для этого используется статический метод генерации.
- 5 - то же самое, что и 3, но использует алгоритм хэширования SHA-1. в Java не поддерживается

### Варианты

- 0 - используется для совместимости с устаревшим форматом UUID.
- 1 - стандартный вариант.
- 2 - стандартный вариант, отличается от 1 тем, что по-другому кодируется при передаче.
- 3 - зарезервирован на будущее.

В Java используется вариант 2.

---
## К изучению

- [X] Вики: https://ru.wikipedia.org/wiki/UUID
- [X] Javadoc на класс UUID