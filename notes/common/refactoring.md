---
title: "Рефакторинг"
tags:
draft: false
---

# Рефакторинг

**Рефакторинг** - изменение структуры кода без изменения его поведения

## Запахи кода
**Запахи кода** - это некоторые отличительные черты кода, который нуждается в рефакторинге.

### Раздувальщики
- Длинный метод
- Большой класс
- Одержимость элементарными типами
- Длинный список параметров
- Группы данных - есть группа полей или аргументов, которые несут смысл только совместно, а при исключении любого элемента перестают быть осмысленными

### Нарушители ООП
- Повторяющиеся блоки switch / when / последовательность if - можно заменить на полиморфизм или стратегию
- Отказ от наследства - нарушение LSP - нужно перевести на композицию вместо наследования
- Альтернативные классы с разными интерфейсами

### Утяжелители изменений
Утяжелители - это тот код, из-за которого приходится вносить изменения в большое количество мест при попытке изменения в одном месте программы
- Расходящиеся модификации


---
## Методы рефакторинга

- Изменение сигнатуры метода
- Инкапсуляция поля
- Выделение класса
- Выделение интерфейса
- Выделение локальной переменной
- Выделение метода
- Обобщение типа
- Встраивание
- Введение параметра
- Подъем поля/метода
- Спуск поля/метода


---
## К изучению

- [ ] Отличный интернет-ресурс [Refactoring Guru](https://refactoring.guru/ru/refactoring) и платный курс от него
- [ ] Книга Мартина Фаулера "Рефакторинг. Улучшение проекта существующего кода"