---
title: "Паттерн Компоновщик"
tags:
  - pattern
draft: false
---

Паттерн Компоновщик объединяет объекты в древовидные структуры для представления иерархий "часть/целое". Компоновщик позволяет клиенту выполнять однородные операции с отдельными объектами и их совокупностями.

### Реализация

- Создается интерфейс, позволяющий взаимодействовать с одиночными объектами и с группами таких объектов с помощью единого интерфейса.
- Интерфейс реализуется классом одиночного объекта и классом группы объектов.
- Клиентский код теперь может обращаться с одиночными объектами и с группами одинаково. Это позволяет обходить группы объектов любой вложенности.

![composite](../../images/composite%20pattern.png)

### Случаи использования

Компоновщик используется для обхода дерева объектов.

Некоторые методы в интерфейсе компоновщика могут не иметь смысла для одиночных объектов. Поэтому в их реализации в классе одиночных объектов выбрасывается исключение. Такие методы нарушают принцип подстановки Барбары Лисков ([Принципы SOLID](evernote:///view/170585988/s440/9decc247-e39c-d9cf-b32c-b845d8f9fa8c/48961e8e-4a2c-4d01-818a-19d7bfdff159/)).

### Взаимоотношения с другими паттернами

- [Паттерн Итератор](iterator.md) часто используется для перебора внутри группы объектов.
- [Паттерн Декоратор](decorator.md). Класс группы объектов декорирует класс одиночного объекта. Декоратор обертывает только один объект, а Компоновщик может обертывать группу объектов.

### Примеры

- ???

---
## К изучению
- [X] HeadFirst. Паттерны проектирования. Глава 9
- [X] Статья на Refactoring Guru: https://refactoring.guru/ru/design-patterns/composite