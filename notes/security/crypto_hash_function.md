---
title: "Криптографические хэш-функции"
tags:
  - algorithms
  - security
draft: false
---

# Криптографические хэш-функции

По сравнению с обычными [хэш-функциями](../algorithms/hash_function.md), к криптографическим предъявляется дополнительное требование: по выходным данным должно быть невозможно определить входные данные.

Области применения:
- подготовка данных для цифровой подписи
- обнаружение злонамеренных изменений
- хранение паролей
- доказательство существования
- блокчейн

### Подготовка данных для цифровой подписи
При шифровании хэш-функции используются для хэширования данных для подписи.
Подпись вычисляется с помощью асимметричного шифрования, которое достаточно ресурсоемкое. 
Поэтому для ускорения процесса сначала по данным вычисляется хэш, а затем по нему вычисляется подпись.

### Обнаружение злонамеренных изменений
Для защиты непреднамеренных изменений используются [контрольные суммы](../algorithms/checksum.md). 
Это полезно для предотвращения гниения битов или ошибок передачи данных.
Но если файл изменяется намеренно злоумышленником, то зная алгоритм вычисления контрольной суммы, негодяй сможет изменить данные так, чтобы чексумма при этом не поменялась.
Для того чтобы защитить данные от изменений можно использовать криптографические хэши.

### Хранение паролей
Хранить пароли в открытом виде - это полный бред.
Хранить пароли зашифрованными - опасно, потому что шифрование - это обратимая операция.
Получив ключ, злоумышленник сможет расшифровать все пароли.
Так как хэш-функция - необратимая операция, то она отлично подходит для хранения паролей.

Для того чтобы усложнить взлом пароля с помощью rainbow таблиц, можно перед хэшированием к паролю конкатенировать случайную строчку, называемую _солью_.
Также можно проводить несколько раундов хэширования, т.е. брать хэш от хэша и т.д.

### Доказательство существования
Какой-либо результат творческой деятельности, который хочется сохранить в тайне, можно захэшировать и зарегистрировать хэш у юриста.
Если кто-то выкрадет этот результат творческой деятельности (например, изобретение), то можно будет доказать свое владение с помощью хэша.

### Блокчейн
В блокчейне криптографические хэш-функции используются в качестве доказательства проделанной работы. 
Ноды блокчейна пытаются найти такой набор входных данных, чтобы вычисленный хэш начинался с определенного количества нулей.


## Конкретные алгоритмы
Устаревшие алгоритмы:
- MD-5 - 128 бит. Подвержен коллизиям
- SHA-1 - 160 бит. В 2017 году была обнаружена уязвимость, приводящая к большому количеству коллизий

Современные алгоритмы: 
- SHA-2 - улучшенная версия SHA. Может выдавать разную длину
- BLAKE-3 - очень быстрый алгоритм, хорошо параллелизуется для нескольких ядер
- ...


---
## К изучению
- [X] Книга Теоретический минимум по Computer Science, глава 3
- [X] [Crypto hash functions. Wiki](https://en.wikipedia.org/wiki/Comparison_of_cryptographic_hash_functions)