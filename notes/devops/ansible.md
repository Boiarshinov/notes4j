---
title: "Ansible"
tags:
  - devops
draft: false
---

# Ansible

**Ansible** - система автоматизации, позволяющая автоматизировать установку и настройку ПО на удаленные сервера.

Ansible - это open-source продукт, разрабатываемый под крылом RedHat.

Ansible не требует установки приложения на удаленный сервер. 
Он подключается к машине по SSH и накатывает скрипты в соответствии с плейбуком.

Сервер, на котором установлен Ansible, и с которого запускаются команды, называется контрольным - __control node__.
Сервера, на которых производится настройка, называются управляемыми - __managed nodes__.
Сервера могут быть объединены в группы, например, образуя стенд.
Такие группы называются __inventories__.

<mark>//Дополнить про плейбуки</mark>

---
## CLI

- `ansible`
- `ansible-galaxy`
- `ansible-playbook`


---
## Роль

Роль - это отдельный Ansible-проект с предопределенной структурой файлов:
```
.
├── defaults
├── handlers
├── meta
├── molecule
├── tasks
├── templates
└── README.md
```

- `/defaults/...` - дефолтные значения переменных, если они не были получены их плейбука, запускающего роль. Значения переменных подставляются в различные файлы, в том числе в шаблоны
- `/handlers/...` - дополнительные задачи роли
- `/meta/...` - мета-данные для Ansible. Например, требуемая версия Ansible или ОС на хосте, на который проводится накатка роли.
- `/molecule/...` - тесты на роль. Не относится к Ansible, является отдельным тестовым фреймворком
- `/tasks/...` - таски роли, которые будут выполняться при ее запуске
- `/templates/...` - шаблоны файлов, которые могут генерироваться Ansible. Шаблоны могут иметь расширение `.j2`


---
# К изучению
- [ ] [Официальная документация](https://docs.ansible.com/ansible/latest/index.html)