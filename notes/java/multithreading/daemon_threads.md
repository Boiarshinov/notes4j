---
title: "Служебные нити - Daemon Threads"
tags:
  - multithreading
draft: false
---

# Daemon Threads

JVM продолжает работать пока работает хоть одна нить. Но при этом существует большое количество служебных нитей, которые не обязаны завершаться, чтобы программа закончила исполнение. 
Это могут быть всевозможные вспомогательные потоки JVM: GC, JIT, и др.
Или потоки, необходимые для поддерживающих функций приложений: логирование, мониторинг, healthcheck'и, сбор статистики и т.д.

Такие нити называются демонами - __Daemon Threads__.

Для того чтобы создать нить-демон, нужно у обычной нити до ее запуска вызвать метод `setDaemon(true)`.
Поток можно указать, как фоновый, только при его создании до старта.
После старта поменять тип потока уже не получится.
```java
Thread thread = new LoggerThread();
thread.setDaemon(true);
thread.start();
```

При определении собственных классов, расширяющих Thread, можно устанавливать демоническую сущность в конструкторе:
```java
class MyThread extends Thread{
    public MyThread(){
        setDaemon(true);
    }
    ...
}
```

В фоновых потоках можно использовать бесконечные циклы.

