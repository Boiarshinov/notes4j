---
title: "Перечисления"
tags:
  - core
  - syntax
draft: false
---

**Перечисление** - это тип класса, который хранит константы в виде списка. Типом констант является тип перечисления.

Перечисления используются, когда в программу необходимо включить набор констант, конкретные значения которых неважны, - достаточно, чтобы они отличались друг от друга.

Для создания перечислений используется слово `enum`
```java
public enum DayOfWeek {
    MONDAY, //все они как-будто определены с public static final
    TUESDAY,
    WEDNESDAY,
    THURSDAY,
    FRIDAY,
    SATURDAY,
    SUNDAY
}
```

### Методы

Для всех перечислений работают следующие методы:

- `String name()` - возвращает имя константы.
- `int ordinal()` - возвращает порядковый номер константы.
- `int compareTo()` - сравнивает два перечисления между собой по порядковому номеру (вычитает два ordinal())
- `static enumType[] values()` - возвращает массив с экземплярами перечисления
- `static enumType valueOf(String)` - возвращает константу перечисления, значение которой соответствует строке. Если такой константы нет, то выбрасывается исключение

```java
for (DayOfWeek day : DayofWeek.values()){
    System.out.println(day.ordinal() + " " + day.name());
}
```

Для перечислений можно создавать и собственные методы, например
```java
public enum DayOfWeek {
    MONDAY,
    ...
    SUNDAY; //точка с запятой

    public boolean isWorkDay(){
        if (this == MONDAY || ...) return true;
        else return false;
    }
}
```

Точно так же можно объявлять и дополнительные поля

### Конструктор

Можно объявлять конструкторы.

Если конструктор есть, то он вызывается всякий раз при создании новой константы перечисления.

```java
enum Resourses{

    GOLD(100), SILVER(10), COPPER(1), BRILLIANTS(1000), WOOD(5), STONE(5); //Вызов конструктора

    private int price; //Поле

    Resourses(int price) { this.price = price; } //Конструктор

    int getPrice() {return this.price; }
}
```

При этом при создании хотя бы одной константы перечисления будут вызваны конструкторы всех констант.

```java
...
Resourses resourse = Resourses.BRILLIANTS; //Отработали все конструкторы, а не только для BRILLIANTS
```

---
## Использование в switch

При использовании объекта перечисления в качестве аргумента оператора switch тип перечисления в case указывать не нужно, он определится самостоятельно.
```java
enum Transport {
    CAR, TRUCK, AIRPLANE
}

class MyClass {
    void method(Transport tp) {
        switch (tp) {
            case CAR:
                System.out.println("Car");
                break;
            case TRUCK:
                System.out.println("Truck");
                break;
            case AIRPLANE:
                System.out.println("Airplane");
                break;
        }
    }
}
```

---
## Перечисление в ООП

Перечисление не может наследоваться и не может быть унаследовано. Зато перечисления могут реализовывать интерфейсы.

Перечисления не могут заменить собой финализированные переменные.
<mark>Дополнить</mark>

---
## Множество перечислений

В каких-то случаях перечисления представляют собой множество состояний, при этом объект, который пользуется этим перечислением, может находиться только в одном состоянии.

В другом случае перечисления представляют собой набор свойств, которые могут быть присущи объекту. В таком случае у объекта обычно имеется поле со списком / множеством этих перечислений.

Для оптимизации работы с наборами перечислений, представляющих собой ряд свойств, была разработана специальная структура данных - `EnumSet`.

<mark>Дополнить</mark>

---
## К изучению

- [ ] Джошуа Блох. "Effective Java". Глава про перечисления.
- [ ] Как расширить перечисление https://stackoverflow.com/questions/35650045/how-to-enable-enum-inheritance/35650094