---
title: "Collector - собственные коллекторы"
tags:
  - java_8
  - collections
  - functional_programming
draft: false
---

В Java 8 при обработке коллекций с помощью стримов зачастую необходимо последней собрать элементы в новую коллекцию. Большая часть потребностей программиста для сбора элементов перекрывается [стандартными коллекторами](collectors.md), которые определены в классе-фабрике `Collectors`.

Но иногда возможностей стандартных коллекторов не хватает и тогда возникает необходимость написать свой собственный коллектор.

Для этого необходимо создать класс, унаследованный от интерфейса `Collector`, и переопределить его методы, либо воспользоваться статическим методом `Collector.of()`, передав в него все необходимые элементы.

- `Supplier supplier` - поставщик, предоставляющий новый контейнер для результата;
- `BiConsumer accumulator` - функция, которая запаковывает элемент в контейнер;
- `BinaryOperator combiner` - функция, объединяющая контейнеры между собой в один;
- `Function finisher` - преобразует аккумулятор в результат, возвращаемый коллектором;
- `Set<Characteristics> characteristics` - свойства коллектора, которые показывают компилятору на то какие оптимизации могут быть проведены при сборе элементов;
    - `CONCURRENT` - указывает на то, что данный коллектор способен правильно отрабатывать при параллельном вычислении стрима.
    - `UNORDERED` - указывает на то, что порядок следования элементов не учитывается при их объединении.
    - `IDENTITY_FINISH` - указывает на то, что финиширующая функция представляет собой `Function.identity()` и поэтому может быть проигнорирована.

---
## К изучению
- [X] Javadoc на интерфейс `Collector`