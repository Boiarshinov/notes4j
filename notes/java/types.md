---
title: "Типы"
tags:
  - core
  - syntax
draft: false
---

## Примитивные типы

- `boolean` - логический тип данных принимает только значения true и false
- `char` - символ, задается 2 байтами

### Целые типы

- `byte` - целое число, заданное 1 байтом. От -128 до 127
- `short` - целое число, заданное 2 байтами. Имеет знак
- `int` - целое число, заданное 4 байтами. Имеет знак
- `long` - целое число, заданное 8 байтами. Имеет знак

Целые числа можно записывать в разных системах счисления
```java
int decimal = 99;
int octal = 0755;
int hex = 0xFF;
int binary = 0b00110;
int bigValue = 10_000_000 //Для улучшения читабельности
long veryBigValue = 10_000_000_000L //буква L для того чтобы компилятор понял, что число не влезает в int
```

### Вещественные типы
Представляются в виде мантисы и экспоненты - `m*2^e`

- `float` - число с плавающей точкой, заданное 4 байтами.

1 бит на знак
23 бита на мантису
8 бит на экспоненту

- `double` - число с плавающей точкой, заданное 8 байтами.

1 бит на знак
52 бита на мантису
11 бит на экспоненту

Вещественные числа можно делить на ноль - получится бесконечность.
Ноль нельзя делить на ноль.

Сравнивать два вещественных числа нужно с некоторой допустимой погрешностью - Эпсилон
```java
double E = 1e-5;
if (Math.abs(a - b) < E) {
    System.out.println("Числа равны между собой")
}
```

У примитивных типов нет полей и методов.

---
## Ссылочные типы

- `String` - строки. Тип данных записывается в коде с большой буквы

Длина строки хранится в отдельном поле.
Строки неизменяемы! Любое преобразование создаёт новую строку.
Существуют следующие методы для работы со строками:

- `length()` - возвращает длину строки
- `charAt()` - возвращает символ, стоящий в указанной позиции
- `endsWith()` - проверяет, оканчивается ли строка написанным фрагментом
- `contains()` - проверяет, содержит ли строка написанный фрагмент

Для сравнения строк используется метод `equals()`. Оператор `==` сравнивает только ссылки.

<mark>//Создать отдельную заметку по строки</mark>

Ссылочными типы называются потому, что имена переменных являются ссылками на область памяти, где хранится значение переменной. Поэтому, если объявить одну переменную ссылочного типа, присвоить ей

Объекты создаются при применении оператора New. Прямого доступа к объектам пользователь не имеет и может работать с ними только через ссылки.

---
## Generic типы
Типы, которые являются контейнерами для объектов другого типа (класса).

У таких типов при создании указывается сначала свой тип, а потом в <> указывается тип вложенных данных.

Одним из стандартных generic типов является `ArrayList`
```java
ArrayList<String> arr = new ArrayList<>();
```

---
## Приведение типов

Короткие типы без проблем преобразуются в более длинные без использования дополнительных команд

```java
byte byteVar = 0;
short shortVar = byteVar;
int intVar = shortVar;

float floatVar = 0.0f;
double doubleVar = floatVar;
```

Для преобразования из длинных типов в короткие нужно использовать оператор преобразования типов

```java
int intVar = 1024;
byte byteVar = (byte) intVar;
```

При приведении целочисленных типов лишние старшие биты отбрасываются.

При приведении к целому из вещественного дробная часть отбрасывается. При превышении максимального значения, принимается максимальное значение для данного целого типа.

Слишком большой double при переводе во float становится бесконечностью.

При сложении двух значений разных типов приводится к большему типу.
```
double > float > long > int
```
Все, что меньше `int` при арифметических операциях становится `int`.

Для приведения строк к числам необходимо пользоваться методами классов-оберток, образованный от примитивных типов

```java
String s = 5;
int x = (int) s; //так не работает
int x = Integer.parseInt(s);
```

Нельзя использовать целые числа в качестве логических, как это происходит, например в C.

---
Существуют также классы, которые превращают примитивные типы в объекты. Они называются [классами-обертками](primitive_wrappers.md).

---
**Конвертация в строку и обратно**
Для извлечения числа из строки используется метод `parseInt()`
```java
long var = Long.parseLong("12345");
```

Для преобразования числа в строку используется метод `toString()`
```java
String var = Long.toString(12345);
```

Примитив можно преобразовать в строку без использования метода, сложив его со строкой
```java
String var = "area" + 51;
```

---
## К изучению:

- [X] Про примитивные типы: https://javarush.ru/groups/posts/1945-rasshirenie-i-suzhenie-primitivnihkh-tipov