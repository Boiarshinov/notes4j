---
title: "Наследование"
tags:
  - oop
draft: false
---

Наследованием называется свойство одних классов получать (наследовать) поля и методы других классов и использовать их, как свои.

Из классов-наследников можно без проблем вызвать методы и поля родителей, а можно их переопределить.

По отношению друг к другу классы называются дочерними и родительскими.

Важно разделять наследование и принадлежность. Например, класс ванна принадлежит (входит как поле) классу ванная комната, а не является его дочерним классом.

Про дочерние классы говорят, что они расширяют родительские или что они им соответствуют.

Расширяет - является дочерним по отношению к другому классу.
Соответствует - находится в одной иерархии наследования с другим классом.

Из родительского класса невозможно вызвать методы классов-потомков.

Иерархию наследования стараются делать минимальной - не больше 1-2 уровней вложенности, чтобы не заблудиться потом.

Из класса-наследника можно вызывать методы родителя с помощью обращения super.* Таким образом можно расширять методы родителя.
```java
public void method(){ //метод класса-наследника
    super.method(); //вызов метода класса-родителя
}
```

Создание классов наследников производится с помощью слова extends
<mark>//пример кода</mark>

## Наследование методов и полей (вместе - членов)
В зависимости от модификаторов доступа на методах и полях класса-родителя они могут или не могут быть унаследованы:

- `public` - наследуются
- `protected` - наследуются
- `default` - не наследуются
- `private` - не наследуются

Конструкторы не наследуются!

- `static` - статические методы не наследуются! А статические поля наследуются!

## Запрет наследования

Если есть необходимость запретить наследование от класса, то применяется модификатор final.

Также можно разрешить наследование только внутри пакета, для этого используется [модификатор доступа](../keywords.md) `protected`.

Можно запретить наследовать только выбранные методы класса-родителя с помощью модификатора final.

## Разница между переопределением и перегрузкой

Переопределение методов в дочернем классе подразумевает, что тип возвращаемого значения и аргументы останутся теми же. Хотя тип возвращаемого значения может быть дочерним.
```java
public class ParentClass {
    public void method(int a){
        System.out.println(a);
    }
}
public class DaughterClass extends ParentClass {

    public void method(int a){ //аргумент и тип возвращаемого значения совпадают с родительским методом - метод переопределен

        System.out.println(2 * a);
    }
}
```

Если тип возвращаемого значения или аргументы методы меняются, то это не переопределение, а перегрузка. При вызове метода с аргументами родительского класса, будет вызван метод родителя.
```java
public class ParentClass {
    public void method(int a){
        System.out.println(a);
    }
}
public class DaughterClass extends ParentClass {

    public void method(String a){ //аргумент и тип возвращаемого значения не совпадают с родительские методом - метод перегружен

        System.out.println(a);
    }
}
```

Уровень доступа переопределяемых методов должен быть таким же, как у класса родителя или менее строгим.

## Создание объектов

При создании объектов дочернего класса сначала вызывается конструктор класса родителя, а потом только конструктор дочернего класса.

## Множественное наследование

Множественное наследование в Java запрещено, но если очень хочется, можно воспользоваться [интерфейсами](../interfaces.md).